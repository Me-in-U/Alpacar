<!DOCTYPE html>
<html lang="ko">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì°¨ëŸ‰ ëª¨ë¸ ëª©ë¡</title>
    <style>
      body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f5f5f5;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      h1 {
        text-align: center;
        color: #333;
        margin-bottom: 30px;
      }

      .vehicle-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .vehicle-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }

      .vehicle-card:hover {
        transform: translateY(-5px);
      }

      .vehicle-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 15px;
      }

      .vehicle-info h3 {
        margin: 0 0 10px;
        color: #333;
      }

      .vehicle-details {
        color: #666;
        font-size: 14px;
      }

      .size-badge {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
        margin-top: 10px;
      }

      .size-compact {
        background-color: #e3f2fd;
        color: #1976d2;
      }

      .size-midsize {
        background-color: #f3e5f5;
        color: #7b1fa2;
      }

      .size-suv {
        background-color: #e8f5e8;
        color: #388e3c;
      }

      .status {
        text-align: center;
        padding: 10px;
        margin: 20px 0;
        border-radius: 5px;
      }

      .status.success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }

      .status.error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>ğŸš— ì°¨ëŸ‰ ëª¨ë¸ ëª©ë¡</h1>

      <div id="status-message"></div>

      <div class="vehicle-grid" id="vehicle-grid">
        {% for model in vehicle_models %}
          <div class="vehicle-card">
            <img src="{{ model.image_url }}" alt="{{ model.brand }} {{ model.model_name }}" class="vehicle-image">
            <div class="vehicle-info">
              <h3>{{ model.brand }}
                {{ model.model_name }}</h3>
              <div class="vehicle-details">
                <p>
                  <strong>ë¸Œëœë“œ:</strong>
                  {{ model.brand }}</p>
                <p>
                  <strong>ëª¨ë¸:</strong>
                  {{ model.model_name }}</p>
                <span class="size-badge size-{{ model.size_class }}">
                  {{ model.get_size_class_display }}
                </span>
              </div>
            </div>
          </div>
          {% empty %}
          <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
            <p>ë“±ë¡ëœ ì°¨ëŸ‰ ëª¨ë¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>
          </div>
        {% endfor %}
      </div>
    </div>

    <script>
      // í˜ì´ì§€ ë¡œë“œ ì‹œ APIë¡œ ë°ì´í„° í™•ì¸
      window.addEventListener('load', function () {
        fetch('/vehicles/api/vehicle-models/')
          .then(response => response.json())
          .then(data => {
            const statusDiv = document.getElementById('status-message');
            if (data.length > 0) {
              statusDiv.innerHTML = `
                            <div class="status success">
                                âœ… ${data.length}ê°œì˜ ì°¨ëŸ‰ ëª¨ë¸ì´ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!
                            </div>
                        `;
            } else {
              statusDiv.innerHTML = `
                            <div class="status error">
                                âŒ ì°¨ëŸ‰ ëª¨ë¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì£¼ì„¸ìš”.
                            </div>
                        `;
            }
          })
          .catch(error => {
            console.error('Error:', error);
            document
              .getElementById('status-message')
              .innerHTML = `
                        <div class="status error">
                            âŒ API í˜¸ì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
                        </div>
                    `;
          });
      });
    </script>
  </body>

</html>
